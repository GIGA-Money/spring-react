package com.springreact.springreact.domain;

import javax.persistence.Entity;
import javax.persistence.FetchType;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.ManyToOne;
import lombok.Data;

@Entity(name = "car")
@Data
/**
 * @Entity the entity annotation is used to specify that the class is an entity
 * attributes: the name attribute is used to specify the entity name and is optional.
 * I.E @Entity(name = "[string]")
 * 
 * @author GIGA-Money This is the car entity class.
 *
 */
public class CarEntity {

  /**
   * fetch type = lazy means that when the owner is fetch, it fetches from the database.
   */
  @ManyToOne(fetch = FetchType.LAZY)
  @JoinColumn(name = "owner")
  private OwnerEntity owner;

  /**
   * get the owner entity.
   
  public OwnerEntity getOwnerEntity() {
    return owner;
  }
*/
    /**
   * Set the owner entity. Setter provided by lombok. 
  public void setOnwerEnity(OwnerEntity owner) {
    this.owner = owner;
  }
*/
  public String getOwnerFirstName() {
    return owner.getFirstname();
  }



  /**
   * @id denotes the primary key.
   * @generatedValue denotes that the ID is automatically generated by the db. if we wanted to name
   *                 the column the @Column would be used, and the name, nullable, and length are
   *                  Defined as arguments.
   */
  @Id
  @GeneratedValue(strategy = GenerationType.AUTO)
  private long id;
  private String brand, model, color, regNum, firstName;
  private int year, price;

  public CarEntity(String brand, String model, String color, String regNum, int year, int price) {
    super();
    setBrand(brand);
    setModel(model);
    setColor(color);
    setRegNum(regNum);
    setYear(year);
    setPrice(price);
  }

  public CarEntity(String brand, String model, String color, String regNum, int year, int price,
      OwnerEntity owner) {
    super();
    setBrand(brand);
    setModel(model);
    setColor(color);
    setRegNum(regNum);
    setYear(year);
    setPrice(price);
    setOwner(owner);
    setFirstName(getOwnerFirstName());
  }

}
